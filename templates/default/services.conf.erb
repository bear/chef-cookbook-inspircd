IRCDModule "inspircd20"
EncModule "enc_sha1"

HostCoreModules "hs_help hs_on hs_off hs_group hs_list hs_set hs_setall hs_del hs_delall"
MemoCoreModules "ms_send ms_cancel ms_list ms_read ms_del ms_set ms_info ms_rsend ms_check ms_staff ms_sendall ms_help"
HelpCoreModules "he_help"
BotCoreModules  "bs_help bs_botlist bs_assign bs_set bs_kick bs_badwords bs_act bs_info bs_say bs_unassign bs_bot bs_fantasy bs_fantasy_kick bs_fantasy_kickban bs_fantasy_owner bs_fantasy_seen"
OperCoreModules "os_help os_global os_stats os_oper os_admin os_staff os_mode os_kick os_clearmodes os_akill os_sgline os_sqline os_szline os_chanlist os_userlist os_logonnews os_randomnews os_opernews os_session os_noop os_jupe os_ignore os_set os_reload os_update os_restart os_quit os_shutdown os_defcon os_chankill os_svsnick os_oline os_umode os_modload os_modunload os_modlist os_modinfo"
NickCoreModules "ns_help ns_register ns_group ns_identify ns_access ns_set ns_saset ns_drop ns_recover ns_release ns_sendpass ns_ghost ns_alist ns_info ns_list ns_logout ns_status ns_update ns_getpass ns_getemail ns_forbid ns_suspend"
ChanCoreModules "cs_help cs_register cs_identify cs_set cs_xop cs_access cs_akick cs_drop cs_sendpass cs_ban cs_clear cs_modes cs_getkey cs_invite cs_kick cs_list cs_logout cs_topic cs_info cs_getpass cs_forbid cs_suspend cs_status"

RemoteServer    127.0.0.1 7000 "<%= @services_passwords['recv'] %>"

ServiceUser     "services@<%= @fqdn %>"
ServerName      "<%= @services['id'] %>"
ServerDesc      "Services for the Foundry"

NetworkName     "Foundry"

NickServName    "NickServ"  "Nickname Server"
ChanServName    "ChanServ"  "Channel Server"
MemoServName    "MemoServ"  "Memo Server"
BotServName     "BotServ"   "Bot Server"
HelpServName    "HelpServ"  "Help Server"
OperServName    "OperServ"  "Operator Server"
GlobalName      "Global"    "Global Noticer"
DevNullName     "DevNull"   "/dev/null -- message sink"
HostServName    "HostServ"  "vHost Server"

PIDFile         services.pid
MOTDFile        services.motd

NickServDB      nick.db
#PreNickServDB  prenick.db
ChanServDB      chan.db
BotServDB       bot.db
OperServDB      oper.db
NewsDB          news.db
ExceptionDB     exception.db
HostServDB      hosts.db

NickLen         24

UserKey1        9224291
UserKey2        0342025
UserKey3        9285478

BaddPassLimit   5
BadPassTimout   10m
UpdateTimeout   5m
ExpireTimeout   30m
ReadTimeout     1m
WarningTimeout  4h

TimeoutCheck    3s

KeepLogs        14
KeepBackups     7

HideStatsO

GlobalOnCycle
GlobalOnCycleMessage "Services are restarting..."
GlobalOnCycleUp      "Services are back online"

NickRegDelay    30

UseTS6
Numeric "3AX"


#NSDefNone

#NSDefKill
#NSDefKillQuick
NSDefSecure
NSDefPrivate
NSDefHideEmail
NSDefHideUsermask
#NSDefHideQuit
#NSDefMsg
NSDefMemoSignon
NSDefMemoReceive
NSDefAutoop

NSDefLanguage     1
NSRegDelay        15s
NSResendDelay     90s
NSExpire          90d
# NSRExpire 1d
NSMaxAliases      16
NSAccessMax       32
NSEnforcerUser    enforcer@localhost.net
NSEnforcerUser    Enforcer
NSReleaseTimeout  1m
#NSAllowKillImmed
#NSNoGroupChange
#NSListOpersOnly
NSListMax         50
NSGuestNickPrefix "Guest"
NSSecureAdmins
NSStrictPrivileges
NSModeOnID
NSRestrictGetPass
#NSNickTracking
NSAddAccessOnReg

#CSDefNone

CSDefKeepTopic
#CSDefOpNotice
CSDefPeace
#CSDefPrivate
#CSDefRestricted
CSDefSecure
#CSDefSecureOps
CSDefSecureFounder
CSDefSignKick
#CSDefSignKickLevel
#CSDefTopicLock
CSDefXOP
CSMaxReg         20
#CSExpire        14d
CSDefBantype     2
CSAccessMax      1024
CSAutokickMax    32
CSAutokickReason "User has been banned from the channel"
CSInhabit        15s
#CSListOpersOnly
CSListMax        50
#CSRestrictGetPass
#CSOpersOnly

MSMaxMemos    50
MSSendDelay   3s
MSNotifyAll
MSMemoReceipt 2


BSDefDontKickOps
BSDefDontKickVoices
BSDefGreet
BSDefFantasy
BSDefSymbiosis
BSMinUsers    1
BSBadWordsMax 32
BSKeepData    10m
BSSmartJoin
BSGentleBWReason
# BSCaseSensitive
# BSFantasyCharacter "!"

ServicesRoot   "bear"
SuperAdmin
LogMaxUsers
AutoKillExpiry  30d
ChanKillExpiry  30d
SGLineExpiry    30d
SQLineExpiry    30d
SZLineExpiry    30d
# AkillOnAdd
# KillOnSGline
# KillOnSQline
DisableRaw
WallOper
WallBadOS
WallOSGlobal
WallOSMode
WallOSClearmodes
WallOSKick
WallOSAkill
WallOSSGLine
WallOSSQLine
WallOSSZLine
WallOSNoOp
WallOSJupe
WallOSRaw
#WallAkillExpire
#WallSGLineExpire
#WallSQLineExpire
#WallSZLineExpire
#WallExceptionExpire
WallGetpass
WallSetpass
WallForbid
WallDrop

LimitSessions
DefSessionLimit 9
MaxSessionLimit 100
ExceptionExpiry 999d
SessionLimitExceeded "The session limit for your host %s has been exceeded."
#SessionLimitDetailsLoc "Please visit http://your.website.url/ for more information about session limits."
MaxSessionKill 15
SessionAutoKillExpiry 30m
AddAkiller
OSOpersOnly


# DefConLevel <level> [OPTIONAL]
#     Default defcon level (1-5) to use when starting services up, level 5
#     instructs services to run as normal.

DefConLevel 5

# DefCon1-4 <numeric> [REQUIRED if Defcon is activated]
#     These numercics determine which of the following operations take place
#     at each level, the correct numeric can be found by adding together the
#     number for each restriction you wish to place at a level.
#     No new channel registrations                      1
#     No New Nick Registrations                         2
#     No MLOCK changes                                  4
#     Force Chan Mode                                   8
#     Use Reduced Session Limit                         16
#     KILL any new clients trying to connect            32
#     Services will ignore everyone but opers           64
#     Services will silently ignore everyone but opers  128
#     AKILL all new clients trying to connect           256
#     No new memos sent to block memoserv attacks       512

DefCon4 23
#     No channel reg + No Nick Reg + No MLOCK changes + Use Reduced Session Limit
#           1        +      2      +         4        +            16

DefCon3 31
#     As DefCon4 + Services will Force Chan Mode's on channels
#          23    +                     8

DefCon2 159
#     As DefCon3 + Services will silently ignore everyone but opers
#          31    +                    128

DefCon1 415
#     As DefCon2 + AKILL all new clients trying to connect
#          159   +                  256

DefConSessionLimit 2
DefConAkillExpire  5m
DefConChanModes    "+R"
DefConTimeOut      15m
GlobalOnDefcon
GlobalOnDefconMore
DefconMessage "Put your message to send your users here. Dont forget to uncomment GlobalOnDefconMore"
DefConOffMessage "Services are now back to normal, sorry for any inconvenience"
DefConAkillReason "This network is currently not accepting connections, please try again later"


#ModuleAutoload "hs_moo ircd_defizzer os_ignore_db"
ModuleDelayedAutoload "cs_appendtopic cs_enforce ns_maxemail os_info hs_request"
